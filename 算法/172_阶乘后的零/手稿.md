```C
/*
给定一个整数 n，返回 n! 结果尾数中零的数量。
示例 1:
输入: 3
输出: 0
解释: 3! = 6, 尾数中没有零。
示例 2:
输入: 5
输出: 1
解释: 5! = 120, 尾数中有 1 个零.
说明: 你算法的时间复杂度应为 O(log n) 。

来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/factorial-trailing-zeroes
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。
*/
```


分析：

+ 在连续乘法中,贡献0的情况包括：
  + 乘数本身尾数含有0，如10、100等，而$10=2×5$，$100=4×5×5$
  + 偶数乘以5就会贡献0，显然5的个数远远多于偶数的个数
  
+ 综上：只要将各个乘数中含5这个因子的个数加起来就可以了。

+ 验证规律:
  + $1!=1$，0个5，0个零
  + $2!=2$，0个5，0个零
  + $3!=6$，0个5，0个零
  + $4!=24$，0个5，0个零
  + $5!=120$，1个5，1个零
  + $6!=720$，1个5，1个零
  + $7!=5040$，1个5，1个零
  + $8!=40320$，1个5，1个零
  + $9!=362880$，1个5，1个零
  + $10!=3628800$，2个5，2个零
  + $11!=39916800$，2个5，2个零
  + $12!=479001600$，2个5，2个零
  + ...
  

***

+ 方法1:

  编写程序只需要遍历5和5的正整数倍即可.
  第一次提交：

  ```C
  /*Solution01*/
  int numOfFactor5(int x)
   {
       int num = 0;
       while(x%5==0)
       {
           num++   ;
           x /= 5  ;
       }
       return num;
   }

  int trailingZeroes(int n)
  {
      int ret_num = 0;
      int i       = 5;
      do 
      {
          if(n<=0)
          {
              break;
          }
          while(i<=n)
          {
              ret_num += numOfFactor5(i);
              i += 5;
          }
      }while(0);
      return ret_num;
  }

  /*
  第一次提交
  500 / 502 个通过测试用例
  状态：超出时间限制
  提交时间：1 分钟之前
  最后执行的输入：
  1808548329
  2147483647
  */
  ```
  
  主要问题出在算法时间复杂度过高，达到了$O{(n\log{n)}}$。

***


+ 方法2:
  统计一个正整数1～N中5这个因数的个数的算法可以简化描述为：
  
+ $num = \frac{N} {5^1} + \frac{N} {5^2}+\frac{N} {5^3}+...   $
  
照此逻辑优化，可以将算法的复杂度降低到$O{(\log{n})}$
  
第二次提交:
  
  ```C
  int trailingZeroes(int n)
  {
      int ret_num = 0;
      do 
      {
          while(n>4)
          {
              ret_num += n/5;
              n /= 5;
          }
      }while(0);
      return ret_num;
  }
  /*
  执行结果：
  通过
  显示详情
  执行用时 :0 ms, 在所有 C 提交中击败了100.00% 的用户
  内存消耗 :6.9 MB, 在所有 C 提交中击败了64.08%的用户
  */
  ```



<div align = right>2019.07.12</div>

<div align = right>AlimyBreak</div>
